{% extends 'base.html' %}

{% block content %}

{% if representatives %}
<h2 class="data-title">Representing {{ address }}</h2>
<div class="rep-display">
    {% for key, value in test_representatives.items %}
        <div class="card">
            <div class="card-content">
                <span class="card-title">{{ value.name }}</span>
                <h5>{{ value.office.name }}</h5>
                <h5>{{ value.party }}</h5>
                <h6>{{ value.address.0.line1 }}, {{ value.address.0.city }}, {{ value.address.0.state }} {{ value.address.0.zip }}</h6>
                <br>
                {% if value.photoUrl %}
                    <img src="{{ value.photoUrl }}" height="400px" width="400px">
                {% else %}
                    <img src="https://i.imgur.com/wYs2wkU.jpg" height="400px" width="400px">
                {% endif %}
            </div>
        </div>
    {% endfor %}
</div>

{% else %}
    {% if elections.contests %}
    {% for contest in elections.contests %}

    <div>
        <h2>{{ contest.office }}</h2>
        {% for candidate in contest.candidates %}
        <div>
            <ul>
                <li>{{ candidate.name }}</li>
                <li>{{ candidate.party }}</li>
                <li><a href="{{ candidate.candidateUrl }}">{{ candidate.candidateUrl }}</a></li>
            </ul>
        </div>
        {% endfor %}
    </div>
    {% endfor %}
    {% else %}
        <h5>Unfortunately, election data is not available for this address yet.</h5>
    {% endif %}
    
{% endif %}


{% endblock %}